AC_INIT(VERSION)

AC_PACKAGE_GLOBALS(kmchart)
AC_PACKAGE_UTILITIES(kmchart)
AC_PACKAGE_PATHS(kmchart)

AC_PACKAGE_NEED_QT_QMAKE

AC_PACKAGE_NEED_PMAPI_H
AC_PACKAGE_NEED_LIBPCP
AC_PACKAGE_HAVE_PM_SET_PROGNAME

AC_MANUAL_FORMAT

qt_assistant=assistant
test -z "$QTASSISTANT" || qt_assistant="$QTASSISTANT"
AC_SUBST(qt_assistant)

qt_release=debug
test -z "$QTRELEASE" || qt_release="$QTRELEASE"
AC_SUBST(qt_release)

pcp_dir=""
test -z "$PCP_DIR" || pcp_dir="$PCP_DIR"
AC_SUBST(pcp_dir)

AC_OUTPUT( \
	src/include/builddefs \
	src/include/version.h \
	src/libqmc/libqmc.pro \
	src/libqwt/libqwt.pro \
	src/libqwt3d/libqwt3d.pro \
	src/dumptext/kmdumptext.pro \
	src/query/kmquery.pro \
	src/chart/kmchart.pro \
	src/time/kmtime.pro \
	man/html/kmchart.adp \
	man/html/kmtime.adp)
