/*
 * Metrics for the Linux proc PMDA
 *
 * Note:
 *	names and pmids migrated from the Linux PMDA, with the domain
 *	number changed from LINUX (60) to 3 (3)
 */

#ifndef PROC
#define PROC    3
#endif

root {
    cgroup
    proc
    hotproc
}

cgroup {
    subsys
    mounts
    groups		PROC:*:*
}

cgroup.subsys {
    hierarchy		PROC:37:0
    count		PROC:37:1
}

cgroup.mounts {
    subsys		PROC:38:0
    count		PROC:38:1
}

proc {
    nprocs		PROC:8:99
    psinfo
    memory
    runq
    id
    io
    schedstat
    fd
    control
}

proc.psinfo {
    pid			PROC:8:0
    cmd			PROC:8:1
    sname		PROC:8:2
    ppid		PROC:8:3
    pgrp		PROC:8:4
    session		PROC:8:5
    tty			PROC:8:6
    tty_pgrp		PROC:8:7
    flags		PROC:8:8
    minflt		PROC:8:9
    cmin_flt		PROC:8:10
    maj_flt		PROC:8:11
    cmaj_flt		PROC:8:12
    utime		PROC:8:13
    stime		PROC:8:14
    cutime		PROC:8:15
    cstime		PROC:8:16
    priority		PROC:8:17
    nice		PROC:8:18
    /* not valid in 2.2.1 PROC:8:19 */
    it_real_value	PROC:8:20
    start_time		PROC:8:21
    vsize		PROC:8:22
    rss			PROC:8:23
    rss_rlim		PROC:8:24
    start_code		PROC:8:25
    end_code		PROC:8:26
    start_stack		PROC:8:27
    esp			PROC:8:28
    eip			PROC:8:29
    signal		PROC:8:30
    blocked		PROC:8:31
    sigignore		PROC:8:32
    sigcatch		PROC:8:33
    wchan		PROC:8:34
    nswap		PROC:8:35
    cnswap		PROC:8:36
    exit_signal		PROC:8:37
    processor           PROC:8:38
    ttyname		PROC:8:39
    wchan_s             PROC:8:40
    psargs		PROC:8:41
    rt_priority		PROC:8:42
    policy		PROC:8:43
    delayacct_blkio_time PROC:8:44
    guest_time		PROC:8:45
    cguest_time		PROC:8:46
    signal_s            PROC:24:16
    blocked_s           PROC:24:17
    sigignore_s         PROC:24:18
    sigcatch_s          PROC:24:19
    threads		PROC:24:28
    cgroups		PROC:11:0
    labels		PROC:12:0
    vctxsw		PROC:24:29
    nvctxsw		PROC:24:30
}

proc.id {
    uid                 PROC:24:0
    euid                PROC:24:1
    suid                PROC:24:2
    fsuid               PROC:24:3
    gid                 PROC:24:4
    egid                PROC:24:5
    sgid                PROC:24:6
    fsgid               PROC:24:7
    uid_nm              PROC:24:8
    euid_nm             PROC:24:9
    suid_nm             PROC:24:10
    fsuid_nm            PROC:24:11
    gid_nm              PROC:24:12
    egid_nm             PROC:24:13
    sgid_nm             PROC:24:14
    fsgid_nm            PROC:24:15
}

proc.memory {
    size		PROC:9:0
    rss			PROC:9:1
    share		PROC:9:2
    textrss		PROC:9:3
    librss		PROC:9:4
    datrss		PROC:9:5
    dirty		PROC:9:6
    maps                PROC:9:7
    vmsize      	PROC:24:20
    vmlock      	PROC:24:21
    vmrss      		PROC:24:22
    vmdata      	PROC:24:23
    vmstack      	PROC:24:24
    vmexe      		PROC:24:25
    vmlib           	PROC:24:26
    vmswap		PROC:24:27
}

proc.runq {
    runnable		PROC:13:0
    blocked		PROC:13:1
    sleeping		PROC:13:2
    stopped		PROC:13:3
    swapped		PROC:13:4
    defunct		PROC:13:5
    unknown		PROC:13:6
    kernel		PROC:13:7
}

proc.io {
    rchar		PROC:32:0
    wchar		PROC:32:1
    syscr		PROC:32:2
    syscw		PROC:32:3
    read_bytes		PROC:32:4
    write_bytes		PROC:32:5
    cancelled_write_bytes PROC:32:6
}

proc.schedstat {
    cpu_time		PROC:31:0
    run_delay		PROC:31:1
    pcount		PROC:31:2
}

proc.fd {
    count		PROC:51:0
}

proc.control {
    all
    perclient
}

proc.control.all {
    threads		PROC:10:1
}

proc.control.perclient {
    threads		PROC:10:2
    cgroups		PROC:10:3
}

hotproc {
    nprocs		PROC:52:99
    psinfo
    memory
    id
    io
    schedstat
    fd
    control
    total
    predicate
}

hotproc.psinfo {
    pid			PROC:52:0
    cmd			PROC:52:1
    sname		PROC:52:2
    ppid		PROC:52:3
    pgrp		PROC:52:4
    session		PROC:52:5
    tty			PROC:52:6
    tty_pgrp		PROC:52:7
    flags		PROC:52:8
    minflt		PROC:52:9
    cmin_flt		PROC:52:10
    maj_flt		PROC:52:11
    cmaj_flt		PROC:52:12
    utime		PROC:52:13
    stime		PROC:52:14
    cutime		PROC:52:15
    cstime		PROC:52:16
    priority		PROC:52:17
    nice		PROC:52:18
    /* not valid in 2.2.1 PROC:52:19 */
    it_real_value	PROC:52:20
    start_time		PROC:52:21
    vsize		PROC:52:22
    rss			PROC:52:23
    rss_rlim		PROC:52:24
    start_code		PROC:52:25
    end_code		PROC:52:26
    start_stack		PROC:52:27
    esp			PROC:52:28
    eip			PROC:52:29
    signal		PROC:52:30
    blocked		PROC:52:31
    sigignore		PROC:52:32
    sigcatch		PROC:52:33
    wchan		PROC:52:34
    nswap		PROC:52:35
    cnswap		PROC:52:36
    exit_signal		PROC:52:37
    processor           PROC:52:38
    ttyname		PROC:52:39
    wchan_s             PROC:52:40
    psargs		PROC:52:41
    signal_s            PROC:56:16
    blocked_s           PROC:56:17
    sigignore_s         PROC:56:18
    sigcatch_s          PROC:56:19
    threads		PROC:56:28
    cgroups		PROC:54:0
    labels		PROC:55:0
}

hotproc.id {
    uid                 PROC:56:0
    euid                PROC:56:1
    suid                PROC:56:2
    fsuid               PROC:56:3
    gid                 PROC:56:4
    egid                PROC:56:5
    sgid                PROC:56:6
    fsgid               PROC:56:7
    uid_nm              PROC:56:8
    euid_nm             PROC:56:9
    suid_nm             PROC:56:10
    fsuid_nm            PROC:56:11
    gid_nm              PROC:56:12
    egid_nm             PROC:56:13
    sgid_nm             PROC:56:14
    fsgid_nm            PROC:56:15
}

hotproc.memory {
    size		PROC:53:0
    rss			PROC:53:1
    share		PROC:53:2
    textrss		PROC:53:3
    librss		PROC:53:4
    datrss		PROC:53:5
    dirty		PROC:53:6
    maps                PROC:53:7
    vmsize      	PROC:56:20
    vmlock      	PROC:56:21
    vmrss      		PROC:56:22
    vmdata      	PROC:56:23
    vmstack      	PROC:56:24
    vmexe      		PROC:56:25
    vmlib           	PROC:56:26
    vmswap		PROC:56:27
}

hotproc.io {
    rchar		PROC:58:0
    wchar		PROC:58:1
    syscr		PROC:58:2
    syscw		PROC:58:3
    read_bytes		PROC:58:4
    write_bytes		PROC:58:5
    cancelled_write_bytes PROC:58:6
}

hotproc.schedstat {
    cpu_time		PROC:57:0
    run_delay		PROC:57:1
    pcount		PROC:57:2
}

hotproc.fd {
    count		PROC:59:0
}

hotproc.control {
    refresh	PROC:60:1
    config	PROC:60:8
    config_gen  PROC:60:9
}

hotproc.total {
    cpuidle	PROC:60:2
    cpuburn	PROC:60:3
    cpuother
}

hotproc.total.cpuother {
    transient   PROC:60:4
    not_cpuburn PROC:60:5
    total       PROC:60:6
    percent     PROC:60:7
}

hotproc.predicate {
    syscalls       PROC:61:0
    ctxswitch      PROC:61:1
    virtualsize    PROC:61:2
    residentsize   PROC:61:3
    iodemand       PROC:61:4
    iowait         PROC:61:5
    schedwait      PROC:61:6
    cpuburn        PROC:61:7
}


#undef PROC
