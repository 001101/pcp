.\" DO NOT EDIT THIS FILE ... source is constricted from
.\" pmparseinterval.x and other pieces in isms/pcp/man/common
'\"macro stdmacro
.\"
.\" Copyright (c) 2000-2004 Silicon Graphics, Inc.  All Rights Reserved.
.\" 
.\" This program is free software; you can redistribute it and/or modify it
.\" under the terms of the GNU General Public License as published by the
.\" Free Software Foundation; either version 2 of the License, or (at your
.\" option) any later version.
.\" 
.\" This program is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
.\" or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
.\" for more details.
.\" 
.\" You should have received a copy of the GNU General Public License along
.\" with this program; if not, write to the Free Software Foundation, Inc.,
.\" 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
.\" 
.\" Contact information: Silicon Graphics, Inc., 1500 Crittenden Lane,
.\" Mountain View, CA 94043, USA, or: http://www.sgi.com
.\"
.ie \(.g \{\
.\" ... groff (hack for khelpcenter, man2html, etc.)
.TH PMPARSEINTERVAL 3 "SGI" "Performance Co-Pilot"
\}
.el \{\
.if \nX=0 .ds x} PMPARSEINTERVAL 3 "SGI" "Performance Co-Pilot"
.if \nX=1 .ds x} PMPARSEINTERVAL 3 "Performance Co-Pilot"
.if \nX=2 .ds x} PMPARSEINTERVAL 3 "" "\&"
.if \nX=3 .ds x} PMPARSEINTERVAL "" "" "\&"
.TH \*(x}
.rr X
\}
.SH NAME
\f3pmParseInterval\f1 \- convert interval string to \fBtimeval\fR structure
.SH "C SYNOPSIS"
.ft 3
#include <pcp/pmapi.h>
.sp
int pmParseInterval(const char *string, struct timeval *rslt, char **errmsg)
.sp
cc ... \-lpcp
.ft 1
.de CW
.ie t \f(CW\\$1\f1\\$2
.el \fI\\$1\f1\\$2
..
.SH DESCRIPTION
.B pmParseInterval
parses the argument
.I string
specifying an interval of time and fills in the
.B tv_sec
and
.B tv_usec
components of the
.I rslt
structure to represent that interval.
.PP
The input
.I string
is most commonly the argument following a
.BR \-t
command line option to a PCP application, and
the syntax is fully described in
.BR PCPIntro (1).
.PP
.B pmParseInterval
returns 0 and
.I errmsg
is undefined if the parsing is successful.
.PP
If the given
.I string
does not conform to the required syntax
.B pmParseInterval
returns -1 and a dynamically allocated
error message string in
.IR errmsg .
The error message
is terminated with a newline and
includes the text of the input
.I string
along with an indicator of the position at which the error was detected,
e.g.
.br
.in +1i
.CW "\&4minutes 30mumble"
.br
.CW "\&           ^ -- unexpected value"
.in -1i
.PP
In the case of an error, the caller is responsible for calling
.BR free (3C)
to release the space allocated for
.IR errmsg .
.SH SEE ALSO
.BR PMAPI (3)
and
.BR pmParseTimeWindow (3).
