'\"macro stdmacro
.\"
.\" Copyright (c) 2000-2004 Silicon Graphics, Inc.  All Rights Reserved.
.\" 
.\" This program is free software; you can redistribute it and/or modify it
.\" under the terms of the GNU General Public License as published by the
.\" Free Software Foundation; either version 2 of the License, or (at your
.\" option) any later version.
.\" 
.\" This program is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
.\" or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
.\" for more details.
.\" 
.\" You should have received a copy of the GNU General Public License along
.\" with this program; if not, write to the Free Software Foundation, Inc.,
.\" 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
.\" 
.\" Contact information: Silicon Graphics, Inc., 1500 Crittenden Lane,
.\" Mountain View, CA 94043, USA, or: http://www.sgi.com
.\"
.ie \(.g \{\
.\" ... groff (hack for khelpcenter, man2html, etc.)
.TH PMDESTROYCONTEXT 3 "SGI" "Performance Co-Pilot"
\}
.el \{\
.if \nX=0 .ds x} PMDESTROYCONTEXT 3 "SGI" "Performance Co-Pilot"
.if \nX=1 .ds x} PMDESTROYCONTEXT 3 "Performance Co-Pilot"
.if \nX=2 .ds x} PMDESTROYCONTEXT 3 "" "\&"
.if \nX=3 .ds x} PMDESTROYCONTEXT "" "" "\&"
.TH \*(x}
.rr X
\}
.SH NAME
\f3pmDestroyContext\f1 \- destroy a PMAPI context
.SH "C SYNOPSIS"
.ft 3
#include <pcp/pmapi.h>
.sp
int pmDestroyContext(int handle)
.sp
cc ... \-lpcp
.ft 1
.SH DESCRIPTION
.de CW
.ie t \f(CW\\$1\f1\\$2
.el \fI\\$1\f1\\$2
..
An application using the
Performance Metrics Application Programming Interface (PMAPI)
may manipulate several concurrent contexts,
each associated with a source of performance metrics, e.g. \c
.BR pmcd (1)
on some host, or an archive log of performance metrics as created by
.BR pmlogger (1).
.PP
.B pmDestroyContext
destroys the PMAPI context identified by
.IR handle .
Typically this would imply some termination of a connection
to a PMCD or closing an archive log file, and orderly clean-up.
.PP
The context
must have been previously created using
.BR pmNewContext (3)
or
.BR pmDupContext (3).
.PP
On success,
.B pmDestroyContext
returns zero.
If
.I handle
was the current
PMAPI context, then the current context becomes undefined.
This means the application must explicitly re-establish a valid
PMAPI context with
.BR pmUseContext (3),
or create a new context with
.BR pmNewContext (3)
or
.BR pmDupContext (3),
before the next PMAPI operation that requires a PMAPI context.
.SH SEE ALSO
.BR PMAPI (3),
.BR pmDupContext (3),
.BR pmNewContext (3),
.BR pmUseContext (3)
and
.BR pmWhichContext (3).
.SH DIAGNOSTICS
.P
.B PM_ERR_NOCONTEXT
.IP
.I handle
does not identify a valid PMAPI context
