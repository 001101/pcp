kmchart is designed to produce stripcharts from Performance Co-Pilot (PCP)
performance metrics fetched from live sources (one or more pmcd hosts) and
also historical sources (one or more PCP archives).

kmtime is a graphical time controller utility that coordinates time updates
and VCR-like playback for other utilities, such as kmchart and pmval.

Refer to doc/INSTALL for instructions on building these tools.


=== 1.0 TODO list ===

    - Write interactive QA testcases as each area is checked:
	[x] qa/record-testcases
	[x] qa/settings-testcases
	[x] qa/create-save-view-testcases
	[ ] qa/create-edit-chart-testcases
	[ ] qa/create-edit-tab-testcases
	[ ] qa/chart-testcases
	[ ] qa/time-control-testcases
	[ ] qa/timezone-testcases
	[ ] qa/help-system-testcases
	[ ] qa/query-testcases
    - Write automated QA for Save View (need a new command line option),
      then with -C and -c, open (multiple) views, save, then verify.

  kmchart

    - Metric selection
      o "Available Metrics" Tree
	. Needs one-level of namespace "read-ahead" to resolve the
	  tree expansion issue in a way that works for all QT4 versions.
	. Double click on compresses name is not expanding, though Enter
	  actually does.
      o "Chart Metrics" Tree
	. Only allowing one metric to be added in New Chart dialog
	. Not displaying plot colour
	. Displaying "Available Metrics" in Selected list on Edit Chart.
      o "Colours" page
	. Selected colour label not updating
	. RGB spinners need to be wider
	. Revert-colour label not updating
      o Resizing the window needs work

    - Charting issues
      o No values available is not the same as zero! (plots need to
	display broken lines - see Qwt mailing list posts)
      o Scaling of the tick marks on the Y-axis is not yet correct,
	and causes mis-alignment on the unified X-axis.  The disk
	throughput (bytes) show this up clearly, for example.
      o Fix up QPen/QBrush so black outline shown on bar plots
      o Resolve what to do about plot legends
	. Plot labels (displayed in legend, supported in the kmchart
	  View file format) need to be supported in the New/Edit
	  Chart dialog - need to preserve existing ones, and need to
	  be able to create/modify existing labels.
    - Respond to changes in the sampling interval from kmtime.
    - Timezone support has stopped working
    - Live mode stop/start doesn't quite work right
      o See the TODO comment in the chart.cpp code
      o On stop, the last observed value is plotted repeatedly
    - Archive time control issues
      o seems to need multiple presses currently to move backward
	(this may be more visible due to increased sample sizes now)
      o Fast forward mode frequently causes kmchart to hang.
      o Fast forward mode can cause Time Axis confusion.
      o Bounds broken sometimes - thinks range is 1970-2038 (min-max)

    - Print mode needs to understand time axis and multiple charts
    - Export mode needs to understand time axis and multiple charts

    - Online Help support
    - Incorporate a Tutorial into online Help
    - Tooltips need to be added across the board.
    - Auto-update the version string in the About dialog.

    - Destructors and memory leak plugging
    - Code audit for TODOs; either fix, exception or add to wishlist.
    - QA test audit for TODOs; either fix, exception or add to wishlist.

  kmtime

    - Needs online help ala kmchart
    - Archive mode Play Back icon has too-dark shading when On.

  kmquery

    - Argument -button is not working correctly anymore (Qt4)
    - Window initial sizing and resizing still needs work.


=== Wishlist TODO items ===

    - Add the last two missing pieces of functionality from the pmchart
      configuration language - i.e. the "global" and "scheme" keywords.
    - All uses of Qwt counters/sliders should be replaced since they
      dont follow style at all (hence look ordinary).  Could try to
      build on top of the integer based one - mouse movement is going
      to be in pixels anyway (today, with Qwt), so... can we divy up
      the time range (double) and map that to pixels.  Would need to
      track slider width changes to do so, of course (i.e. resize).
    - The Qt-based metrics class needs:
      o Per-context support for pmproxy
      o A hash for metric instance values instead of an array
	(to support delete, and better support of dynamic indoms)
    - Make a model (ala. QDirModel) for metric namespace (QmcMetricModel
      or QmcNameSpaceModel?).  Maybe add an (editable) column for labels
      then (and colors, and...?)
    - Use QCompleter class in all file dialog file name line edits.
    - Use QCompleter class on QmcMetricModel?  (for metric selector)
    - Merge chart/source.* and libqmc/qmc_* code.
    - pmproxy support is far from complete:
      . Need libpcp changes (new interfaces) to abstract out the code
	which has a one-trip guard on testing/setting PMPROXY_HOST env
	variable during connect (so multiple contexts can have different
	proxies).
      . Need Qmc support for these interfaces instead of existing code.
      . Need to audit kmchart, see all PMPROXY TODOs in the code.
    - Rethink searching in New/Edit Chart dialogs - could be done by
      making the (gray background) text box double as a search text
      entry point.  Something like vi's /<pattern> key sequence to
      initiate new/next searches, with wrap-around to the top.
      The Firefox mechanism is kinda similar - maybe take a closer
      look at that and see if anything can be borrowed from that.
    - Possibly some Settings dialog entries for Paths
      o default folio/archive path dirname
      o default user kmchart config file dirname
    - Zooming in and out would be handy.  Not too tricky too either, as
      we have all the necessary infrastructure - Qwt supports a range
      picker thing (click and drag), and we have a visible history vs
      sample history split already.
    - Add default folio/archive path dirname to Settings dialog
    - Desktop integration details - basics are done, but:
      o Gnome/KDE icon files need to be installed correctly;
      o MacOSX icon artwork needs further touch-ups to look good;
      o Refer to "Setting the Application Icon" page in QtAssistant.
      o Entry should be created in the Application menu/list/folder.


=== PCP extensions ===

    - Some pmproxy changes are required in libpcp (see wishlist above)
      which will also require some new PMAPI interfaces.  The reason
      for these changes is to separate out the current behaviour that
      allows only one PMPROXY_HOST setting to be used for the life of
      a PCP client program, and instead allow the user to choose (and
      choose differently for differnt hosts), the pmproxy host that's
      associated with any pmcd host.
    - The pmSetMode(3) API needs a replacement that takes a timeval
      structure for a delta, instead of an integer.  The extended
      time base code should be factored out (into the old, backward
      compatible pmSetMode) and deprecated - used in pmval(1) atm.
    - This timeval delta change needs to be pushed all the way down
      into the PCP context structure, which fortunately isn't exposed
      outside of impl.h (AFAICT) - this would be an issue if it was,
      as the size of that structure will change due to relacing the
      current integer delta with a timeval.
    - Not much uses the integer delta however, its mainly interp.c in
      libpcp that uses it.  Note: libpcp_pmc also has an API that's
      affected here - PMC_Group::setArchiveMode

